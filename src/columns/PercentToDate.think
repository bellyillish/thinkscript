# Calculations
def data = close;
def prev = GetValue(data, 1);

def change;
if !IsNaN(prev) and prev != 0 {
    change = data / prev - 1;
}
else {
    change = Double.NaN;
}

# Plots
plot P = Round(change * 100, 2);
P.DefineColor("Up", CreateColor(0, 197, 49));
P.DefineColor("Down", CreateColor(255, 95, 95));
P.DefineColor("Neutral", GetColor(7));
P.AssignValueColor(
    if P > 0 then P.Color("Up")
    else if P < 0 then P.Color("Down")
    else P.Color("Neutral")
);
